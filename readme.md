#寒假训练
##程序修改进程规划
- 将dac程序改为双缓冲并测试
- 将adc与dac程序联合 查看是否能输出输入的波形
- 添加一个定时器（TIM3）适当延时后开启dac的dma传输 看是否仍然可以输出波形（这里可不可以直接进行延时然后再开启dac的dma 因为第一次是不需要进行计算的）
- 添加数字滤波器 滤波器在dma的缓冲存满的中断里 看是否有滤波效果
- 在主函数中加入fft的计算和屏幕的显示 此时屏幕的显示和能根据计算量不同刷新率是不稳定的
- 题目完成
##tips
- 本题fft精度，音质，以及滤波器均为定性指标，精度都和以适当放低
##总结
训练题目已经完成 虽然单片机滤波器的思路十分的流畅完整。但是，因为本题啸叫产生的复杂性导致简单的滤波器无法完成。这次设计中用了三种滤波：
- 找到最大值滤除
- 滤除麦克风电路引入的噪声
- 滤除过高的峰值
但实际上效果仍然不佳
##反思
通过网上查询资料，啸叫抑制通常十分复杂而不是题目中要求的做出一个带阻数字滤波器即可。
解决的实际方法如下几种：
- 物理降噪 设置两个麦克风。一个是有用声音采集，另一个采集外界噪声（主要是喇叭的声音），两个的差分信号进入adc中，这样软件没有任何的更改而降低了喇叭进入麦克风的信号从而降低啸叫
- 移频 将fft的结果移动一下，声音只会很小的失真然而由于出来的进来的声音频率不一样从而破坏了正反馈的条件
- 识别出啸叫点在滤除，这种方案识别的难度较高，当啸叫点很多的时候难以进行。
